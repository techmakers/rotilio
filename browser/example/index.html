<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Techmakers IoT</title>
        <meta name="description" content="">
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    </head>
    <body style='font-family: "Helvetica Neue Light", "HelveticaNeue-Light", "Helvetica Neue", Calibri, Helvetica, Arial, sans-serif'>


        <a target="_blank" href="http://techmakers.io"><img style="height: 32px" src="./techmakersLogo100.png"></a>
        <span style="vertical-align:top;font-weight: bold;font-size:1.5em">techmakers.io - Rotilio example APP</span>
        <p>
            This page can be used as a starting point to write a Web application for Rotilio
        </p>
            What you need is:
            <ul>
                <li>Rotilio: <a href="https://rotilio.cc" target="_blank">Buy one</a></li>
                <li>Particle account (email,password), the one you created on Particle.io when activating you device or a valid access_token</li>
            </ul>

        <p>Read the code to learn: <a href="index.js">Javascript</a></p>
        <hr />

        <button onclick="login()">0. LOGIN</button>
        Particle username: <input type="text" value="" id="username" size="25" /> &nbsp;
        and password: <input type="text" value="" id="password" size="20"/>

        access_token: <input type="text" value="" id="access_token_field" size="40" onblur="updateAccessToken()" />
        <br />

        <hr />

        <button onclick="readDevices()">1. READ DEVICES</button>

        <select id="deviceSelect" onchange="selectDevice()">
            <option>Click on "READ DEVICES" to compile this menu</option>
        </select>

        <hr />

        <button onclick="readDeviceInfo()">2. READ DEVICE INFO</button>

        DeviceId:<input type="text" value="" id="deviceIdInput" onkeyup="updateDeviceId()" onblur="updateDeviceId()" size="30" />

        <hr />

        <button onclick="readVariable()">3. READ VARIABLE</button>


        <select id="variableSelect" onchange="selectVariable()">
            <option>Click on "READ DEVICE INFO" to compile this menu</option>
        </select>

        <input type="text" value="" id="variableNameField" size="30" />

        <hr />

        <button onclick="sendmessage()">4. CALL FUNCTION</button>

        <select id="functionSelect" onchange="selectFunction()">
            <option>Click on "READ DEVICE INFO" to compile this menu</option>
        </select>

        <input type="text" id="functionNameInput" size="30" value="message" />
        <input type="text" id="messageInput" size="30" value="setalarm:2" />

        <hr />

        <button onclick="subscribeEvents()">5. LISTEN EVENTS</button>
        <input type="text" id="eventNamesInput" size="50" value="debugmsg, variableChanged, envmsg" />
        <hr />
        <table style="width:100%">
            <tr>
                <td style="width:50%">Console</textarea></td>
                <td style="width:50%">Events</textarea></td>
            </tr>
            <tr>
                <td style="width:50%"><textarea id="console" style="width:100%;height:300px"></textarea></td>
                <td style="width:50%"><textarea id="events" style="width:100%;height:300px"></textarea></td>
            </tr>
        </table>
        <script type="text/javascript" src="utility.js"></script>
        <script type="text/javascript" src="index.js"></script>
    </body>
</html>